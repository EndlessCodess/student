(function(){"use strict";var t={1887:function(t,e,n){var i=n(538),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},a=[],r={name:"App"},o=r,l=n(1001),h=(0,l.Z)(o,s,a,!1,null,null,null),d=h.exports,u=n(8345),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"image"},[e("h3",[t._v(t._s(t.msg))]),e("h4",[t._v("学生管理面板")]),e("p",{staticClass:"p-right"},[e("router-link",{attrs:{to:"/","active-class":"active"}},[t._v("返回    ")])],1),t.loaded?e("table",[t._m(0),t._l(t.stu,(function(n,i){return e("tr",{key:i},[e("td",[t._v(t._s(i+1))]),e("td",[t._v(t._s(n.id))]),e("td",[t._v(t._s(n.name))]),e("td",[t._v(t._s(n.gender))]),e("td",[t._v(t._s(n.age))]),e("td",[t._v(t._s(n.grade))]),e("td",[t._v(t._s(n.chinese))]),e("td",[t._v(t._s(n.math))]),e("td",[t._v(t._s(n.english))]),e("td",[t._v(t._s(n.mean))]),e("td",[t._v(t._s(n.score))]),e("td",[e("router-link",{attrs:{to:"/insert/"+t.mode,"active-class":"active"}},[t._v("添加   ")]),e("router-link",{attrs:{to:"/edit/"+t.mode+"/"+n.id,"active-class":"active"}},[t._v("编辑   ")]),e("a",{attrs:{href:"http://localhost:8082/#/info/"+t.mode,"active-class":"active"},on:{click:function(e){return t.del_stu_info(n.id)}}},[t._v("删除")])],1)])}))],2):t._e()])},c=[function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("序号")]),e("th",[t._v("Id")]),e("th",[t._v("姓名")]),e("th",[t._v("性别")]),e("th",[t._v("年龄")]),e("th",[t._v("班级")]),e("th",[t._v("语文")]),e("th",[t._v("数学")]),e("th",[t._v("英语")]),e("th",[t._v("平均分")]),e("th",[t._v("总成绩")]),e("th",[t._v("管理")])])}],g=(n(7658),n(8587)),v={name:"StudentInfo",data(){return{mode:"",msg:"欢迎来到学生管理系统",students:Array(),len:3,meanAll:Array(),stuId:Array(),loaded:!1,url:"http://localhost:8081"}},created:function(){this.mode=this.$route.params.id,g.Z.get(`${this.url}/get/${this.mode}`).then((t=>{console.log(t.data),this.len=t.data.length;for(let e=0;e<this.len;e++)this.students[e]=t.data[e];for(let e=0;e<this.len;e++){1==this.students[e].gender.data?this.students[e].gender="男":this.students[e].gender="女";let t=parseInt(this.students[e].grade/100),n=this.students[e].grade%100;this.students[e].grade=t<10&&t>0?`200${t}年${n}班`:`20${t}年${n}班`}for(let e=0;e<this.len;e++)this.meanAll.push(this.students[e].mean);console.log(this.students),this.loaded=!0}))},computed:{stu:function(){let t,e=Array(),n=Array(),i=Array();for(let s=0;s<this.len;s++)i.push(s);for(let s=0;s<this.len;s++){let e;for(let t=s;t<this.len;t++)1*this.meanAll[s]<1*this.meanAll[t]&&(e=this.meanAll[t],this.meanAll[t]=this.meanAll[s],this.meanAll[s]=e,e=i[t],i[t]=i[s],i[s]=e);t=i[s],n.push(t)}for(let s=0;s<this.len;s++)e.push(this.students[i[s]]),localStorage.setItem("stu"+this.students[i[s]].id,JSON.stringify(this.students[i[s]]));return e}},methods:{del_stu_info:function(t){const e=`${this.url}/del/${this.mode}/${t}`;g.Z["delete"](e).then((t=>{console.log("进行删除操作")})),localStorage.removeItem("stu"+t),location.reload()}}},p=v,f=(0,l.Z)(p,m,c,!1,null,"89e51b4a",null),_=f.exports,w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"image"},[e("div",{staticClass:"divCen"},[e("h3",[t._v(t._s(t.msg))]),e("h4",[t._v("学生管理面板")]),e("p",{staticClass:"p-right"},[e("router-link",{attrs:{to:"/info/"+t.mode,"active-class":"active"}},[t._v("返回    ")])],1),e("table",[e("tr",[e("th",[t._v("Id")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"text"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})])]),e("tr",[e("th",[t._v("姓名")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),e("tr",[e("th",[t._v("性别")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],attrs:{type:"radio",value:"男"},domProps:{checked:t._q(t.gender,"男")},on:{change:function(e){t.gender="男"}}}),t._v("男 "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],attrs:{type:"radio",value:"女"},domProps:{checked:t._q(t.gender,"女")},on:{change:function(e){t.gender="女"}}}),t._v("女 ")])]),e("tr",[e("th",[t._v("年龄")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.age,expression:"age"}],attrs:{type:"text"},domProps:{value:t.age},on:{input:function(e){e.target.composing||(t.age=e.target.value)}}})])]),e("tr",[e("th",[t._v("班级")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.grade,expression:"grade"}],attrs:{type:"text"},domProps:{value:t.grade},on:{input:function(e){e.target.composing||(t.grade=e.target.value)}}})])]),e("tr",[e("th",[t._v("语文")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.chinese,expression:"chinese"}],attrs:{type:"text"},domProps:{value:t.chinese},on:{input:function(e){e.target.composing||(t.chinese=e.target.value)}}})])]),e("tr",[e("th",[t._v("数学")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.math,expression:"math"}],attrs:{type:"text"},domProps:{value:t.math},on:{input:function(e){e.target.composing||(t.math=e.target.value)}}})])]),e("tr",[e("th",[t._v("英语")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.english,expression:"english"}],attrs:{type:"text"},domProps:{value:t.english},on:{input:function(e){e.target.composing||(t.english=e.target.value)}}})])])]),e("p",[e("button",{on:{click:t.btn_add_stuinfo}},[t._v("加入并保存")])])])])},x=[],N={name:"StudentInsert",data(){return{mode:"",msg:"欢迎来到学生管理系统",id:"",name:"",gender:"",age:"",grade:"",chinese:"",math:"",english:"",mean:"",score:"",url:"http://localhost:8081/add_user/"}},created:function(){this.mode=this.$route.params.mode,this.url=this.url+this.mode;let t,e=localStorage.length,n=10001;for(let i=0;i<e;i++){let e=localStorage.key(i);"stu"==e.substr(0,3)&&(t=JSON.parse(localStorage.getItem(localStorage.key(i))),n<t.id&&(n=t.id))}this.id=parseInt(n)+1},methods:{btn_add_stuinfo:function(){if(null==this.grade||""==this.grade||null==this.age||""==this.age||null==this.id||""==this.id||null==this.name||""==this.name||null==this.gender||""==this.gender||null==this.chinese||""==this.chinese||null==this.math||""==this.math||null==this.english||""==this.english)return window.alert("输入框不能为空"),!1;if(!isNaN(this.name))return window.alert("请正确输入姓名"),!1;if(this.age>50||this.age<12)return window.alert("请正确输入年龄"),!1;if(!/^20[0-3][0-9]年([0-9]{1,2})班$/.test(this.grade))return window.alert("请正确输入班级(2021年15班)"),!1;if(isNaN(this.id))return window.alert("学生的ID只能为数字"),!1;if(isNaN(this.chinese)||isNaN(this.math)||isNaN(this.english))return window.alert("学生的成绩只能为数字"),!1;if(!(this.chinese>=0&&this.chinese<=100)||!(this.english>=0&&this.english<=100)||!(this.math>=0&&this.math<=100))return window.alert("学生的成绩只能在0~100内"),!1;let t={id:this.id,name:this.name,gender:this.gender,age:this.age,grade:this.grade,chinese:this.chinese,math:this.math,english:this.english,mean:parseFloat((1*this.chinese+1*this.math+1*this.english)/3).toFixed(1),score:1*this.chinese+1*this.math+1*this.english};var e="stu"+t.id,n=JSON.stringify(t);console.log(t),localStorage.setItem(e,n),"男"==t.gender?t.gender=1:t.gender=0;const i=/\d+/g,s=t.grade.match(i);1==s[0].length&&(s[0]=0+s[0]),1==s[1].length&&(s[1]=0+s[1]),t.grade=s[0].substring(2,4)+s[1];n=JSON.stringify(t);console.log(this.url),g.Z.post(this.url,n).then((t=>{console.log("学生信息已添加")}));let a="/info/"+this.mode;console.log(a),this.$router.replace({path:a})}}},y=N,b=(0,l.Z)(y,w,x,!1,null,"4a8c1f6b",null),P=b.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"image"},[e("div",{staticClass:"divCen"},[e("h3",[t._v(t._s(t.msg))]),e("h4",[t._v("学生管理面板")]),e("p",{staticClass:"p-right"},[e("router-link",{attrs:{to:"/info/"+t.mode,"active-class":"active"}},[t._v("返回    ")])],1),e("table",[e("tr",[e("th",[t._v("Id")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"text"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})])]),e("tr",[e("th",[t._v("姓名")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),e("tr",[e("th",[t._v("性别")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],attrs:{type:"radio",value:"男"},domProps:{checked:t._q(t.gender,"男")},on:{change:function(e){t.gender="男"}}}),t._v("男 "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],attrs:{type:"radio",value:"女"},domProps:{checked:t._q(t.gender,"女")},on:{change:function(e){t.gender="女"}}}),t._v("女 ")])]),e("tr",[e("th",[t._v("年龄")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.age,expression:"age"}],attrs:{type:"text"},domProps:{value:t.age},on:{input:function(e){e.target.composing||(t.age=e.target.value)}}})])]),e("tr",[e("th",[t._v("班级")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.grade,expression:"grade"}],attrs:{type:"text"},domProps:{value:t.grade},on:{input:function(e){e.target.composing||(t.grade=e.target.value)}}})])]),e("tr",[e("th",[t._v("语文")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.chinese,expression:"chinese"}],attrs:{type:"text"},domProps:{value:t.chinese},on:{input:function(e){e.target.composing||(t.chinese=e.target.value)}}})])]),e("tr",[e("th",[t._v("数学")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.math,expression:"math"}],attrs:{type:"text"},domProps:{value:t.math},on:{input:function(e){e.target.composing||(t.math=e.target.value)}}})])]),e("tr",[e("th",[t._v("英语")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.english,expression:"english"}],attrs:{type:"text"},domProps:{value:t.english},on:{input:function(e){e.target.composing||(t.english=e.target.value)}}})])])]),e("p",[e("button",{on:{click:t.btn_edit_stuinfo}},[t._v("保存")])])])])},k=[],O={name:"StudentEdit",data(){return{mode:"",msg:"欢迎来到学生管理系统",id:"",name:"",gender:"",age:"",grade:"",chinese:"",math:"",english:"",mean:"",score:"",url:"http://localhost:8081/edit_user/"}},created:function(){this.mode=this.$route.params.mode,this.url=this.url+this.mode,this.id=this.$route.params.id;let t=JSON.parse(localStorage.getItem("stu"+this.id));this.name=t.name,this.gender=t.gender,this.age=t.age,this.grade=t.grade,this.chinese=t.chinese,this.math=t.math,this.english=t.english},methods:{btn_edit_stuinfo:function(){if(null==this.name||""==this.name||null==this.gender||""==this.gender||null==this.chinese||""==this.chinese||null==this.math||""==this.math||null==this.english||""==this.english)return window.alert("输入框不能为空"),!1;if(!isNaN(this.name))return window.alert("请正确输入姓名"),!1;if(this.age>50||this.age<12)return window.alert("请正确输入年龄"),!1;if(!/^20[0-3][0-9]年([0-9]{1,2})班$/.test(this.grade))return window.alert("请正确输入班级(2021年15班)"),!1;if(isNaN(this.chinese)||isNaN(this.math)||isNaN(this.english))return window.alert("学生的成绩只能为数字"),!1;if(!(this.chinese>=0&&this.chinese<=100)||!(this.english>=0&&this.english<=100)||!(this.math>=0&&this.math<=100))return window.alert("学生的成绩只能在0~100内"),!1;let t={id:this.id,name:this.name,gender:this.gender,age:this.age,grade:this.grade,chinese:this.chinese,math:this.math,english:this.english,mean:parseFloat((1*this.chinese+1*this.math+1*this.english)/3).toFixed(1),score:1*this.chinese+1*this.math+1*this.english};var e="stu"+t.id,n=JSON.stringify(t);localStorage.setItem(e,n),"男"==t.gender?t.gender=1:t.gender=0;const i=/\d+/g,s=t.grade.match(i);1==s[0].length&&(s[0]=0+s[0]),1==s[1].length&&(s[1]=0+s[1]),t.grade=s[0].substring(2,4)+s[1];n=JSON.stringify(t);g.Z.post(this.url,n).then((t=>{console.log("学生信息已修改")}));let a="/info/"+this.mode;console.log(a),this.$router.replace({path:a})}}},$=O,I=(0,l.Z)($,S,k,!1,null,"41a4808d",null),A=I.exports,Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"image"},[e("h3",[t._v(t._s(t.msg))]),e("h4",[t._v("学生管理面板")]),e("table",[e("tr",[e("router-link",{attrs:{to:"/info/0","active-class":"active"}},[t._v("入学成绩    ")]),e("router-link",{attrs:{to:"/info/1","active-class":"active"}},[t._v("期中成绩    ")]),e("router-link",{attrs:{to:"/info/2","active-class":"active"}},[t._v("期末成绩")])],1)])])},C=[],J={name:"Student",data(){return{mode:"",msg:"欢迎来到学生管理系统"}},created:function(){localStorage.clear()}},j=J,F=(0,l.Z)(j,Z,C,!1,null,"760edeab",null),q=F.exports;i.ZP.use(u.ZP);const E=[{path:"/info/:id",name:"StudentInfo",component:_},{path:"/",name:"student",component:q},{path:"/insert/:mode",name:"StudentInsert",component:P},{path:"/edit/:mode/:id",name:"StudentEdit",component:A}],T=new u.ZP({routes:E});var D=T;i.ZP.config.productionTip=!1,new i.ZP({router:D,render:t=>t(d)}).$mount("#app")}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,i,s,a){if(!i){var r=1/0;for(d=0;d<t.length;d++){i=t[d][0],s=t[d][1],a=t[d][2];for(var o=!0,l=0;l<i.length;l++)(!1&a||r>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[l])}))?i.splice(l--,1):(o=!1,a<r&&(r=a));if(o){t.splice(d--,1);var h=s();void 0!==h&&(e=h)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[i,s,a]}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,a,r=i[0],o=i[1],l=i[2],h=0;if(r.some((function(e){return 0!==t[e]}))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)var d=l(n)}for(e&&e(i);h<r.length;h++)a=r[h],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},i=self["webpackChunkstudent"]=self["webpackChunkstudent"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(1887)}));i=n.O(i)})();
//# sourceMappingURL=app.a7bc2573.js.map